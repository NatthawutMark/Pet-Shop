generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
}

model CUSTOMER {
  ID          Int         @id @default(autoincrement())
  USER_ID     Int
  FIRST_NAME  String      @db.VarChar(255)
  LAST_NAME   String?     @db.VarChar(255)
  TEL         String?     @db.VarChar(20)
  ADDRESS     String?     @db.LongText
  IS_ACTIVE   Boolean?    @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT   DateTime?   @default(now()) @db.DateTime(0)
  CREATE_BY   String?     @default("System") @db.VarChar(100)
  UPDATE_AT   DateTime?   @db.DateTime(0)
  UPDATE_BY   String?     @db.VarChar(100)
  USER_AUTHEN USER_AUTHEN @relation(fields: [USER_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_USER_AUTHEN_CUS_ID")
  ORDERS      ORDERS[]

  @@index([USER_ID], map: "FK_USER_AUTHEN_CUS_ID")
}

model EMPLOYEE {
  ID          Int         @id @default(autoincrement())
  USER_ID     Int
  FIRST_NAME  String      @db.VarChar(255)
  LAST_NAME   String?     @db.VarChar(255)
  TEL         String?     @db.VarChar(20)
  ADDRESS     String?     @db.LongText
  IS_ACTIVE   Boolean?    @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT   DateTime?   @default(now()) @db.DateTime(0)
  CREATE_BY   String?     @default("System") @db.VarChar(100)
  UPDATE_AT   DateTime?   @db.DateTime(0)
  UPDATE_BY   String?     @db.VarChar(100)
  USER_AUTHEN USER_AUTHEN @relation(fields: [USER_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_USER_AUTHEN_EMP_ID")

  @@index([USER_ID], map: "FK_USER_AUTHEN_EMP_ID")
}

model INVENTORY {
  ID         Int       @id @default(autoincrement())
  ITEM_ID    Int
  ITEM_CODE  String    @db.VarChar(15)
  ITEM_NAME  String    @db.VarChar(255)
  ITEM_QTY   Int       @default(0)
  ITEM_PRICE Decimal?  @default(0.00) @db.Decimal(10, 2)
  IS_ACTIVE  Boolean?  @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT  DateTime? @default(now()) @db.DateTime(0)
  CREATE_BY  String?   @default("System") @db.VarChar(100)
  UPDATE_AT  DateTime? @db.DateTime(0)
  UPDATE_BY  String?   @db.VarChar(100)
  MAST_ITEM  MAST_ITEM @relation(fields: [ITEM_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_INVENTORY_ITEM_ID")

  @@index([ITEM_ID], map: "FK_INVENTORY_ITEM_ID")
}

model MAST_CATEGORIES {
  ID          Int         @id @default(autoincrement())
  PET_TYPE_ID Int
  NAME        String      @db.VarChar(255)
  IS_ACTIVE   Boolean?    @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT   DateTime?   @default(now()) @db.DateTime(0)
  CREATE_BY   String?     @default("System") @db.VarChar(100)
  UPDATE_AT   DateTime?   @db.DateTime(0)
  UPDATE_BY   String?     @db.VarChar(100)
  MAST_PET    MAST_PET    @relation(fields: [PET_TYPE_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_MAST_PET_TYPE_ID")
  MAST_ITEM   MAST_ITEM[]

  @@index([PET_TYPE_ID], map: "FK_MAST_PET_TYPE_ID")
}

model MAST_ITEM {
  ID              Int             @id @default(autoincrement())
  ITEM_CODE       String          @db.VarChar(15)
  ITEM_NAME       String          @db.VarChar(255)
  ITEM_CATE_ID    Int
  ITEM_PRICE      Decimal?        @default(0.00) @db.Decimal(10, 2)
  DESCRIPTION     String?         @db.LongText
  IS_ACTIVE       Boolean?        @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT       DateTime?       @default(now()) @db.DateTime(0)
  CREATE_BY       String?         @default("System") @db.VarChar(100)
  UPDATE_AT       DateTime?       @db.DateTime(0)
  UPDATE_BY       String?         @db.VarChar(100)
  INVENTORY       INVENTORY[]
  MAST_CATEGORIES MAST_CATEGORIES @relation(fields: [ITEM_CATE_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_ITEM_CATE_ID")
  ORDERS_DETAIL   ORDERS_DETAIL[]

  @@index([ITEM_CATE_ID], map: "FK_ITEM_CATE_ID")
}

model MAST_PET {
  ID              Int               @id @default(autoincrement())
  NAME            String            @db.VarChar(255)
  IS_ACTIVE       Boolean?          @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT       DateTime?         @default(now()) @db.DateTime(0)
  CREATE_BY       String?           @default("System") @db.VarChar(100)
  UPDATE_AT       DateTime?         @db.DateTime(0)
  UPDATE_BY       String?           @db.VarChar(100)
  MAST_CATEGORIES MAST_CATEGORIES[]
}

model MAST_STATUS {
  ID        Int       @id @default(autoincrement())
  TYPE      String    @db.VarChar(15)
  NAME      String    @db.VarChar(255)
  NO        Int?
  IS_ACTIVE Boolean?  @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT DateTime? @default(now()) @db.DateTime(0)
  CREATE_BY String?   @default("System") @db.VarChar(100)
  UPDATE_AT DateTime? @db.DateTime(0)
  UPDATE_BY String?   @db.VarChar(100)
  ORDERS    ORDERS[]
}

model ORDERS {
  ID            Int             @id @default(autoincrement())
  OREDER_NO     String          @db.VarChar(100)
  OREDER_DATE   DateTime        @db.DateTime(0)
  OREDER_TYPE   DateTime        @db.DateTime(0)
  CUST_ID       Int
  STATUS_ID     Int
  TOTAL_PRICE   Decimal?        @default(0.00) @db.Decimal(9, 2)
  VAT           Decimal?        @default(0.00) @db.Decimal(9, 2)
  NET_PRICE     Decimal?        @default(0.00) @db.Decimal(9, 2)
  ADDRESS       String?         @db.LongText
  IS_ACTIVE     Boolean?        @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT     DateTime?       @default(now()) @db.DateTime(0)
  CREATE_BY     String?         @default("System") @db.VarChar(100)
  UPDATE_AT     DateTime?       @db.DateTime(0)
  UPDATE_BY     String?         @db.VarChar(100)
  MAST_STATUS   MAST_STATUS     @relation(fields: [STATUS_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_MAST_STATUS_ID")
  CUSTOMER      CUSTOMER        @relation(fields: [CUST_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_ORDERS_CUS_ID")
  ORDERS_DETAIL ORDERS_DETAIL[]

  @@index([STATUS_ID], map: "FK_MAST_STATUS_ID")
  @@index([CUST_ID], map: "FK_ORDERS_CUS_ID")
}

model ORDERS_DETAIL {
  ID          Int       @id @default(autoincrement())
  OREDER_ID   Int
  ITEM_ID     Int
  ITEM_QTY    Int       @default(0)
  ITEM_PRICE  Decimal?  @default(0.00) @db.Decimal(9, 2)
  TOTAL_PRICE Decimal?  @default(0.00) @db.Decimal(9, 2)
  IS_ACTIVE   Boolean?  @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT   DateTime? @default(now()) @db.DateTime(0)
  CREATE_BY   String?   @default("System") @db.VarChar(100)
  UPDATE_AT   DateTime? @db.DateTime(0)
  UPDATE_BY   String?   @db.VarChar(100)
  MAST_ITEM   MAST_ITEM @relation(fields: [ITEM_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_ORDERS_DETAIL_ITEM_ID")
  ORDERS      ORDERS    @relation(fields: [OREDER_ID], references: [ID], onDelete: NoAction, onUpdate: NoAction, map: "FK_ORDERS_ID")

  @@index([ITEM_ID], map: "FK_ORDERS_DETAIL_ITEM_ID")
  @@index([OREDER_ID], map: "FK_ORDERS_ID")
}

model USER_AUTHEN {
  ID        Int        @id @default(autoincrement())
  USERNAME  String     @db.VarChar(255)
  PASSWORD  String     @db.VarChar(255)
  IS_ADMIN  Boolean    @default(dbgenerated("b'0'")) @db.Bit(1)
  IS_ACTIVE Boolean?   @default(dbgenerated("b'1'")) @db.Bit(1)
  CREATE_AT DateTime?  @default(now()) @db.DateTime(0)
  CREATE_BY String?    @default("System") @db.VarChar(100)
  UPDATE_AT DateTime?  @db.DateTime(0)
  UPDATE_BY String?    @db.VarChar(100)
  CUSTOMER  CUSTOMER[]
  EMPLOYEE  EMPLOYEE[]
}
